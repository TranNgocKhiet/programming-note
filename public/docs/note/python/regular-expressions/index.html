<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Finding Text Patterns with Regular Expressions#import re phone_num_pattern_obj = re.compile(r&#39;\d{3}-\d{3}-\d{4}&#39;) match_obj = phone_num_pattern_obj.search(&#39;My number is 415-555-4242.&#39;) print(match_obj.group())Result:
415-555-4242Grouping with Parentheses#import re phone_re = re.compile(r&#39;(\d\d\d)-(\d\d\d-\d\d\d\d)&#39;) mo = phone_re.search(&#39;My number is 415-555-4242.&#39;) print(mo.group(1)) print(mo.group(2)) print(mo.group(0)) print(mo.group()) print(mo.groups()) area_code, main_number = mo.groups() print(area_code) print(main_number)Result:
415555-4242415-555-4242415-555-4242(&#39;415&#39;, &#39;555-4242&#39;)415555-4242Using Escape Characters#import re pattern = re.compile(r&#39;(\(\d\d\d\)) (\d\d\d-\d\d\d\d)&#39;)\ mo = pattern.search(&#39;My phone number is (415) 555-4242.&#39;) print(mo.group(1)) print(mo.group(2))Result:
(415)555-4242Matching Characters from Alternate Groups#import re pattern = re.compile(r&#39;Cat(erpillar|astrophe|ch|egory)&#39;) match = pattern.search(&#39;Catch me if you can.&#39;) print(match.group()) print(match.group(1))Result:
">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:url" content="http://localhost:1313/docs/note/python/regular-expressions/">
  <meta property="og:site_name" content="My programming note">
  <meta property="og:title" content="Regular Expressions">
  <meta property="og:description" content="Finding Text Patterns with Regular Expressions#import re phone_num_pattern_obj = re.compile(r&#39;\d{3}-\d{3}-\d{4}&#39;) match_obj = phone_num_pattern_obj.search(&#39;My number is 415-555-4242.&#39;) print(match_obj.group())Result:
415-555-4242Grouping with Parentheses#import re phone_re = re.compile(r&#39;(\d\d\d)-(\d\d\d-\d\d\d\d)&#39;) mo = phone_re.search(&#39;My number is 415-555-4242.&#39;) print(mo.group(1)) print(mo.group(2)) print(mo.group(0)) print(mo.group()) print(mo.groups()) area_code, main_number = mo.groups() print(area_code) print(main_number)Result:
415555-4242415-555-4242415-555-4242(&#39;415&#39;, &#39;555-4242&#39;)415555-4242Using Escape Characters#import re pattern = re.compile(r&#39;(\(\d\d\d\)) (\d\d\d-\d\d\d\d)&#39;)\ mo = pattern.search(&#39;My phone number is (415) 555-4242.&#39;) print(mo.group(1)) print(mo.group(2))Result:
(415)555-4242Matching Characters from Alternate Groups#import re pattern = re.compile(r&#39;Cat(erpillar|astrophe|ch|egory)&#39;) match = pattern.search(&#39;Catch me if you can.&#39;) print(match.group()) print(match.group(1))Result:">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="website">


  <meta itemprop="name" content="Regular Expressions">
  <meta itemprop="description" content="Finding Text Patterns with Regular Expressions#import re phone_num_pattern_obj = re.compile(r&#39;\d{3}-\d{3}-\d{4}&#39;) match_obj = phone_num_pattern_obj.search(&#39;My number is 415-555-4242.&#39;) print(match_obj.group())Result:
415-555-4242Grouping with Parentheses#import re phone_re = re.compile(r&#39;(\d\d\d)-(\d\d\d-\d\d\d\d)&#39;) mo = phone_re.search(&#39;My number is 415-555-4242.&#39;) print(mo.group(1)) print(mo.group(2)) print(mo.group(0)) print(mo.group()) print(mo.groups()) area_code, main_number = mo.groups() print(area_code) print(main_number)Result:
415555-4242415-555-4242415-555-4242(&#39;415&#39;, &#39;555-4242&#39;)415555-4242Using Escape Characters#import re pattern = re.compile(r&#39;(\(\d\d\d\)) (\d\d\d-\d\d\d\d)&#39;)\ mo = pattern.search(&#39;My phone number is (415) 555-4242.&#39;) print(mo.group(1)) print(mo.group(2))Result:
(415)555-4242Matching Characters from Alternate Groups#import re pattern = re.compile(r&#39;Cat(erpillar|astrophe|ch|egory)&#39;) match = pattern.search(&#39;Catch me if you can.&#39;) print(match.group()) print(match.group(1))Result:">
  <meta itemprop="wordCount" content="676">

<title>Regular Expressions | My programming note</title>
<link rel="icon" href="/favicon.png" >
<link rel="manifest" href="/manifest.json">
<link rel="canonical" href="http://localhost:1313/docs/note/python/regular-expressions/">
<link rel="stylesheet" href="/book.min.cc2c524ed250aac81b23d1f4af87344917b325208841feca0968fe450f570575.css" integrity="sha256-zCxSTtJQqsgbI9H0r4c0SRezJSCIQf7KCWj&#43;RQ9XBXU=" crossorigin="anonymous">


  <script defer src="/fuse.min.js"></script>
  <script defer src="/en.search.min.669b5eff6bfe9669e18175d774a211c99ba6f7274755c9755130815e249754a2.js" integrity="sha256-Zpte/2v&#43;lmnhgXXXdKIRyZum9ydHVcl1UTCBXiSXVKI=" crossorigin="anonymous"></script>


<link rel="alternate" type="application/rss+xml" href="http://localhost:1313/docs/note/python/regular-expressions/index.xml" title="My programming note" />

  
</head>
<body dir="ltr" class="book-kind-section book-type-docs">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    
<aside class="book-menu">
  <div class="book-menu-content">
    
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><span>My programming note</span>
  </a>
</h2>


<div class="book-search hidden">
  <input id="book-search-input" type="text" 
    placeholder="Search"
    aria-label="Search"
    maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>
<script>document.querySelector(".book-search").classList.remove("hidden")</script>













  
  <ul>
    
      
        <li>
          
  
  

  
    <a>
      Note</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/note/python/" class="">
      Python</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/note/python/data-structures/" class="">
      Data structures</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/note/python/functions/" class="">
      Functions</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/note/python/operators/" class="">
      Operators</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/note/python/statements/" class="">
      Statements</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/note/python/regular-expressions/" class="active">
      Regular Expressions</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/note/python/libraries/" class="">
      Libraries</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/note/python/files/" class="">
      Files</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/note/python/classes/" class="">
      Classes</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/note/python/debugging/" class="">
      Debugging</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/note/python/parameters/" class="">
      Parameters</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>













</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>



  </div>
</aside>
 

    <div class="book-page">
      <header class="book-header hidden">
        
  <link rel="stylesheet" href="/css/custom-copy.css" />

<script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script>

<script defer src="/js/init-clipboard.js"></script>


  
  <aside class="hidden">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#finding-text-patterns-with-regular-expressions">Finding Text Patterns with Regular Expressions</a>
      <ul>
        <li><a href="#grouping-with-parentheses">Grouping with Parentheses</a></li>
        <li><a href="#using-escape-characters">Using Escape Characters</a></li>
        <li><a href="#matching-characters-from-alternate-groups">Matching Characters from Alternate Groups</a></li>
        <li><a href="#returning-all-matches">Returning All Matches</a></li>
        <li><a href="#using-character-classes-and-negative-character-classes">Using Character Classes and Negative Character Classes</a></li>
        <li><a href="#using-shorthand-character-classes">Using Shorthand Character Classes</a></li>
        <li><a href="#matching-everything-with-the-dot-character">Matching Everything with the Dot Character</a></li>
        <li><a href="#being-careful-what-you-match-for">Being Careful What You Match For</a></li>
        <li><a href="#matching-an-optional-pattern">Matching an Optional Pattern</a></li>
      </ul>
    </li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown book-article"><h2 id="finding-text-patterns-with-regular-expressions">Finding Text Patterns with Regular Expressions<a class="anchor" href="#finding-text-patterns-with-regular-expressions">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> re
</span></span><span style="display:flex;"><span>phone_num_pattern_obj <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>compile(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;\d</span><span style="color:#e6db74">{3}</span><span style="color:#e6db74">-\d</span><span style="color:#e6db74">{3}</span><span style="color:#e6db74">-\d</span><span style="color:#e6db74">{4}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span>match_obj <span style="color:#f92672">=</span> phone_num_pattern_obj<span style="color:#f92672">.</span>search(<span style="color:#e6db74">&#39;My number is 415-555-4242.&#39;</span>)
</span></span><span style="display:flex;"><span>print(match_obj<span style="color:#f92672">.</span>group())</span></span></code></pre></div><p>Result:</p>
<pre tabindex="0"><code>415-555-4242</code></pre><h3 id="grouping-with-parentheses">Grouping with Parentheses<a class="anchor" href="#grouping-with-parentheses">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> re
</span></span><span style="display:flex;"><span>phone_re <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>compile(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;(\d\d\d)-(\d\d\d-\d\d\d\d)&#39;</span>)
</span></span><span style="display:flex;"><span>mo <span style="color:#f92672">=</span> phone_re<span style="color:#f92672">.</span>search(<span style="color:#e6db74">&#39;My number is 415-555-4242.&#39;</span>)
</span></span><span style="display:flex;"><span>print(mo<span style="color:#f92672">.</span>group(<span style="color:#ae81ff">1</span>))
</span></span><span style="display:flex;"><span>print(mo<span style="color:#f92672">.</span>group(<span style="color:#ae81ff">2</span>))
</span></span><span style="display:flex;"><span>print(mo<span style="color:#f92672">.</span>group(<span style="color:#ae81ff">0</span>))
</span></span><span style="display:flex;"><span>print(mo<span style="color:#f92672">.</span>group())
</span></span><span style="display:flex;"><span>print(mo<span style="color:#f92672">.</span>groups())
</span></span><span style="display:flex;"><span>area_code, main_number <span style="color:#f92672">=</span> mo<span style="color:#f92672">.</span>groups()
</span></span><span style="display:flex;"><span>print(area_code)
</span></span><span style="display:flex;"><span>print(main_number)</span></span></code></pre></div><p>Result:</p>
<pre tabindex="0"><code>415
555-4242
415-555-4242
415-555-4242
(&#39;415&#39;, &#39;555-4242&#39;)
415
555-4242</code></pre><h3 id="using-escape-characters">Using Escape Characters<a class="anchor" href="#using-escape-characters">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> re
</span></span><span style="display:flex;"><span>pattern <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>compile(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;(\(\d\d\d\)) (\d\d\d-\d\d\d\d)&#39;</span>)\
</span></span><span style="display:flex;"><span>mo <span style="color:#f92672">=</span> pattern<span style="color:#f92672">.</span>search(<span style="color:#e6db74">&#39;My phone number is (415) 555-4242.&#39;</span>)
</span></span><span style="display:flex;"><span>print(mo<span style="color:#f92672">.</span>group(<span style="color:#ae81ff">1</span>))
</span></span><span style="display:flex;"><span>print(mo<span style="color:#f92672">.</span>group(<span style="color:#ae81ff">2</span>))</span></span></code></pre></div><p>Result:</p>
<pre tabindex="0"><code>(415)
555-4242</code></pre><h3 id="matching-characters-from-alternate-groups">Matching Characters from Alternate Groups<a class="anchor" href="#matching-characters-from-alternate-groups">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> re
</span></span><span style="display:flex;"><span>pattern <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>compile(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;Cat(erpillar|astrophe|ch|egory)&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">match</span> <span style="color:#f92672">=</span> pattern<span style="color:#f92672">.</span>search(<span style="color:#e6db74">&#39;Catch me if you can.&#39;</span>)
</span></span><span style="display:flex;"><span>print(<span style="color:#66d9ef">match</span><span style="color:#f92672">.</span>group())
</span></span><span style="display:flex;"><span>print(<span style="color:#66d9ef">match</span><span style="color:#f92672">.</span>group(<span style="color:#ae81ff">1</span>))</span></span></code></pre></div><p>Result:</p>
<pre tabindex="0"><code>Catch
ch</code></pre><h3 id="returning-all-matches">Returning All Matches<a class="anchor" href="#returning-all-matches">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> re
</span></span><span style="display:flex;"><span>pattern <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>compile(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;\d</span><span style="color:#e6db74">{3}</span><span style="color:#e6db74">-\d</span><span style="color:#e6db74">{3}</span><span style="color:#e6db74">-\d</span><span style="color:#e6db74">{4}</span><span style="color:#e6db74">&#39;</span>)  <span style="color:#75715e"># This regex has no groups</span>
</span></span><span style="display:flex;"><span>print(pattern<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#39;Cell: 415-555-9999 Work: 212-555-0000&#39;</span>))</span></span></code></pre></div><p>Result:</p>
<pre tabindex="0"><code>[&#39;415-555-9999&#39;, &#39;212-555-0000&#39;]</code></pre><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> re
</span></span><span style="display:flex;"><span>pattern <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>compile(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;(\d</span><span style="color:#e6db74">{3}</span><span style="color:#e6db74">)-(\d</span><span style="color:#e6db74">{3}</span><span style="color:#e6db74">)-(\d</span><span style="color:#e6db74">{4}</span><span style="color:#e6db74">)&#39;</span>)  <span style="color:#75715e"># This regex has groups.</span>
</span></span><span style="display:flex;"><span>print(pattern<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#39;Cell: 415-555-9999 Work: 212-555-0000&#39;</span>))</span></span></code></pre></div><p>Result:</p>
<pre tabindex="0"><code>[(&#39;415&#39;, &#39;555&#39;, &#39;9999&#39;), (&#39;212&#39;, &#39;555&#39;, &#39;0000&#39;)]</code></pre><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> re
</span></span><span style="display:flex;"><span>pattern <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>compile(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;\d</span><span style="color:#e6db74">{3}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span>print(pattern<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#39;1234&#39;</span>))
</span></span><span style="display:flex;"><span>print(pattern<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#39;12345&#39;</span>))
</span></span><span style="display:flex;"><span>print(pattern<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#39;123456&#39;</span>))
</span></span><span style="display:flex;"><span>print(pattern<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#39;1234567&#39;</span>))</span></span></code></pre></div><p>Result:</p>
<pre tabindex="0"><code>[&#39;123&#39;]
[&#39;123&#39;]
[&#39;123&#39;, &#39;456&#39;]
[&#39;123&#39;, &#39;456&#39;]</code></pre><h3 id="using-character-classes-and-negative-character-classes">Using Character Classes and Negative Character Classes<a class="anchor" href="#using-character-classes-and-negative-character-classes">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> re
</span></span><span style="display:flex;"><span>vowel_pattern <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>compile(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;[aeiouAEIOU]&#39;</span>)
</span></span><span style="display:flex;"><span>print(vowel_pattern<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#39;RoboCop eats BABY FOOD.&#39;</span>))</span></span></code></pre></div><p>Result:</p>
<pre tabindex="0"><code>[&#39;o&#39;, &#39;o&#39;, &#39;o&#39;, &#39;e&#39;, &#39;a&#39;, &#39;A&#39;, &#39;O&#39;, &#39;O&#39;]</code></pre><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> re
</span></span><span style="display:flex;"><span>consonant_pattern <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>compile(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;[^aeiouAEIOU]&#39;</span>) <span style="color:#75715e"># By placing a caret character (^) just after the character class’s opening bracket, you can make a negative character class</span>
</span></span><span style="display:flex;"><span>print(consonant_pattern<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#39;RoboCop eats BABY FOOD.&#39;</span>))</span></span></code></pre></div><p>Result:</p>
<pre tabindex="0"><code>[&#39;R&#39;, &#39;b&#39;, &#39;C&#39;, &#39;p&#39;, &#39; &#39;, &#39;t&#39;, &#39;s&#39;, &#39; &#39;, &#39;B&#39;, &#39;B&#39;, &#39;Y&#39;, &#39; &#39;, &#39;F&#39;, &#39;D&#39;, &#39;.&#39;]</code></pre><h3 id="using-shorthand-character-classes">Using Shorthand Character Classes<a class="anchor" href="#using-shorthand-character-classes">#</a></h3>
<table>
  <thead>
      <tr>
          <th>Shorthand character class</th>
          <th>Represents &hellip;</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>\d</td>
          <td>Any numeric digit from 0 to 9.</td>
      </tr>
      <tr>
          <td>\D</td>
          <td>Any character that is not a numeric digit from 0 to 9.</td>
      </tr>
      <tr>
          <td>\w</td>
          <td>Any letter, numeric digit, or the underscore character. (Think of this as matching “word” characters.)</td>
      </tr>
      <tr>
          <td>\W</td>
          <td>Any character that is not a letter, numeric digit, or the underscore character.</td>
      </tr>
      <tr>
          <td>\s</td>
          <td>Any space, tab, or newline character. (Think of this as matching “space” characters.)</td>
      </tr>
      <tr>
          <td>\S</td>
          <td>Any character that is not a space, tab, or newline character.</td>
      </tr>
  </tbody>
</table>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> re
</span></span><span style="display:flex;"><span>pattern <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>compile(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;\d+\s\w+&#39;</span>) <span style="color:#75715e"># The regular expression \d+\s\w+ will match text that has one or more numeric digits (\d+), followed by a whitespace character (\s), followed by one or more letter/digit/underscore characters (\w+)</span>
</span></span><span style="display:flex;"><span>print(pattern<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#39;12 drummers, 11 pipers, 10 lords, 9 ladies, 8 maids, 7 swans, 6 geese, 5 rings, 4 birds, 3 hens, 2 doves, 1 partridge&#39;</span>))</span></span></code></pre></div><p>Result:</p>
<pre tabindex="0"><code>[&#39;12 drummers&#39;, &#39;11 pipers&#39;, &#39;10 lords&#39;, &#39;9 ladies&#39;, &#39;8 maids&#39;, &#39;7 swans&#39;, &#39;6 geese&#39;, &#39;5 rings&#39;, &#39;4 birds&#39;, &#39;3 hens&#39;, &#39;2 doves&#39;, &#39;1 partridge&#39;]</code></pre><h3 id="matching-everything-with-the-dot-character">Matching Everything with the Dot Character<a class="anchor" href="#matching-everything-with-the-dot-character">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> re
</span></span><span style="display:flex;"><span>at_re <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>compile(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;.at&#39;</span>)
</span></span><span style="display:flex;"><span>print(at_re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#39;The cat in the hat sat on the flat mat.&#39;</span>))</span></span></code></pre></div><p>Result:</p>
<pre tabindex="0"><code>[&#39;cat&#39;, &#39;hat&#39;, &#39;sat&#39;, &#39;lat&#39;, &#39;mat&#39;]</code></pre><h3 id="being-careful-what-you-match-for">Being Careful What You Match For<a class="anchor" href="#being-careful-what-you-match-for">#</a></h3>
<p>The best and worst thing about regular expressions is that they will match exactly what you ask for. Here are some common points of confusion regarding character classes:</p>
<ul>
<li>The [A-Z] or [a-z] character class matches uppercase or lowercase letters, respectively, but not both. You need to use [A-Za-z] to match both cases.</li>
<li>The [A-Za-z] character class matches only plain, unaccented letters. For example, the regex string r&rsquo;First Name: ([A-Za-z]+)&rsquo; would match “First Name: ” followed by a group of one or more unaccented letters. But singer Sinéad O’Connor’s first name would match up to the é only, and the group would be set to &lsquo;Sin&rsquo;.</li>
<li>The \w character class matches all letters, including accented letters and characters from other alphabets. But it also matches numbers and the underscore character, so the regex string r&rsquo;First Name: (\w+)&rsquo; may match more than you intended.</li>
<li>The \w character class matches all letters, but the regex string r&rsquo;Last Name: (\w+)&rsquo; would capture Sinéad O’Connor’s last name only up until the apostrophe character. This means the group would capture her last name as &lsquo;O&rsquo;.</li>
<li>Straight and smart quote characters (&rsquo; &quot; ‘ ’ “ ”) are considered completely different from each other and must be specified separately.</li>
</ul>
<h3 id="matching-an-optional-pattern">Matching an Optional Pattern<a class="anchor" href="#matching-an-optional-pattern">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> re
</span></span><span style="display:flex;"><span><span style="color:#75715e"># The ? part of the regular expression means that the pattern is optional</span>
</span></span><span style="display:flex;"><span>pattern <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>compile(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;42?!&#39;</span>)
</span></span><span style="display:flex;"><span>print(pattern<span style="color:#f92672">.</span>search(<span style="color:#e6db74">&#39;42!&#39;</span>))
</span></span><span style="display:flex;"><span>print(pattern<span style="color:#f92672">.</span>search(<span style="color:#e6db74">&#39;4!&#39;</span>))
</span></span><span style="display:flex;"><span>print(pattern<span style="color:#f92672">.</span>search(<span style="color:#e6db74">&#39;42&#39;</span>) <span style="color:#f92672">==</span> <span style="color:#66d9ef">None</span>) <span style="color:#75715e"># No match</span></span></span></code></pre></div><p>Result:</p>
<pre tabindex="0"><code>&lt;re.Match object; span=(0, 3), match=&#39;42!&#39;&gt;
&lt;re.Match object; span=(0, 2), match=&#39;4!&#39;&gt;
True</code></pre><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> re
</span></span><span style="display:flex;"><span>pattern <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>compile(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;(\d</span><span style="color:#e6db74">{3}</span><span style="color:#e6db74">-)?\d</span><span style="color:#e6db74">{3}</span><span style="color:#e6db74">-\d</span><span style="color:#e6db74">{4}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span>match1 <span style="color:#f92672">=</span> pattern<span style="color:#f92672">.</span>search(<span style="color:#e6db74">&#39;My number is 415-555-4242&#39;</span>)
</span></span><span style="display:flex;"><span>print(match1<span style="color:#f92672">.</span>group())
</span></span><span style="display:flex;"><span>match2 <span style="color:#f92672">=</span> pattern<span style="color:#f92672">.</span>search(<span style="color:#e6db74">&#39;My number is 555-4242&#39;</span>)
</span></span><span style="display:flex;"><span>print(match2<span style="color:#f92672">.</span>group()) </span></span></code></pre></div><p>Result:</p>
<pre tabindex="0"><code>415-555-4242
555-4242</code></pre></article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">

<div>

</div>

<div>

</div>

</div>





  
  
  
  <div class="flex flex-wrap justify-between">
    <span>
    
      <a href="/docs/note/python/statements/" class="flex align-center">
        <img src="/icons/backward.svg" class="book-icon" alt="Backward" />
        <span>Statements</span>
      </a>
    
    </span>
    <span>
    
      <a href="/docs/note/python/libraries/" class="flex align-center">
        <span>Libraries</span>
        <img src="/icons/forward.svg" class="book-icon" alt="Forward" />
      </a>
    
    </span>
  </div>
  


 
        
  
  <div class="book-comments">

</div>
  
 
        
        
  
 
        
  
  
    <script>(function(){document.querySelectorAll("pre:has(code)").forEach(e=>{e.addEventListener("click",e.focus),e.addEventListener("copy",function(t){if(t.preventDefault(),navigator.clipboard){const t=window.getSelection().toString()||e.textContent;navigator.clipboard.writeText(t)}})})})()</script>
  

      </footer>

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
  
  <aside class="book-toc">
    <div class="book-toc-content">
      
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#finding-text-patterns-with-regular-expressions">Finding Text Patterns with Regular Expressions</a>
      <ul>
        <li><a href="#grouping-with-parentheses">Grouping with Parentheses</a></li>
        <li><a href="#using-escape-characters">Using Escape Characters</a></li>
        <li><a href="#matching-characters-from-alternate-groups">Matching Characters from Alternate Groups</a></li>
        <li><a href="#returning-all-matches">Returning All Matches</a></li>
        <li><a href="#using-character-classes-and-negative-character-classes">Using Character Classes and Negative Character Classes</a></li>
        <li><a href="#using-shorthand-character-classes">Using Shorthand Character Classes</a></li>
        <li><a href="#matching-everything-with-the-dot-character">Matching Everything with the Dot Character</a></li>
        <li><a href="#being-careful-what-you-match-for">Being Careful What You Match For</a></li>
        <li><a href="#matching-an-optional-pattern">Matching an Optional Pattern</a></li>
      </ul>
    </li>
  </ul>
</nav>



    </div>
  </aside>
  
 
  </main>

  
</body>
</html>




















